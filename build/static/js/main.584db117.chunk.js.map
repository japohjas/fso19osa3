{"version":3,"sources":["components/Person.js","components/Filter.js","components/PersonForm.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["PersonToShow","props","react_default","a","createElement","name","number","value","id","onClick","removeClick","Person","personsToShow","map","n","Person_PersonToShow","key","Filter","chars","onChange","handleToShow","PersonForm","onSubmit","addPerson","newName","handleName","newNumber","handleNumber","type","baseUrl","services_persons","axios","get","then","response","data","newObject","post","delete","concat","put","Notification","_ref","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setChars","_useState9","_useState10","errorMessage","setErrorMessage","useEffect","console","log","personService","length","notificatinMessage","setTimeout","filter","person","toLowerCase","includes","components_Notification","components_Filter","event","target","components_PersonForm","preventDefault","personObject","ePerson","find","p","window","confirm","returnedPerson","catch","error","alert","components_Person","Number","personId","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.584db117.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = (props) => {\n  return (\n    <div>\n      {props.personsToShow.map(n => <PersonToShow key={n.name} name={n.name} number={n.number} id={n.id} removeClick={props.removeClick}/>)}\n    </div>\n  )\n}\n\nconst PersonToShow = (props) => {\n  return (\n    <form>\n      <p>{props.name} {props.number} <button value={props.id} onClick={props.removeClick}>delete</button></p>\n    </form>\n  )\n}\n\nexport default Person","import React from 'react'\n\nconst Filter = (props) => {\n  return (\n    <form>\n      rajaa näytettäviä: <input value={props.chars} onChange={props.handleToShow} />\n    </form>\n  )\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = (props) => {\n  return (\n    <form onSubmit={props.addPerson}>\n      <p>nimi: <input value={props.newName} onChange={props.handleName} /></p>\n      <p>numero: <input value={props.newNumber} onChange={props.handleNumber} /></p>\n      <button type=\"submit\">lisää</button>\n    </form>\n  )\n}\n\nexport default PersonForm\n","import axios from 'axios'\n// const baseUrl = 'http://localhost:3001/persons'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, remove, update }\n","import React from 'react'\n\nconst Notification = ({ message }) => {\n  const notificationStyle = {\n    color: 'red',\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  } \n\n  if(message === null) {\n    return null\n  }\n  \n  return (\n    <div style={notificationStyle}>\n      {message}\n    </div>\n  )\n}\n\nexport default Notification  ","import React, { useState, useEffect } from 'react'\nimport Person from './components/Person'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ chars, setChars ] = useState('')\n  const [ errorMessage, setErrorMessage ] = useState(null)\n\n  useEffect(() => {\n    console.log('effect')\n    personService\n      .getAll()\n      .then(response => {\n        console.log('promise fulfilled')\n        setPersons(response)\n      })\n  }, [])\n  console.log('render', persons.length, 'persons')\n\n  const handleName = (event) => {\n    console.log('handle name: ', event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumber = (event) => {\n    console.log('handle number: ', event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const notificatinMessage = (message) => {\n    setErrorMessage(\n      message\n    )\n    setTimeout(() => {\n      setErrorMessage(null)\n    }, 5000)\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    // undefined on if lauseessa falsy\n    const ePerson = persons.find(p => p.name.toLowerCase() === newName.toLowerCase())\n    console.log('ePerson', ePerson)\n\n    if (ePerson && window.confirm(`${newName} is already added to phonbook, replace the old number with a new one?`)) {\n      personService\n        .update(ePerson.id, personObject)\n        .then(returnedPerson => {\n          setPersons(persons.map(p => p.id === ePerson.id ? returnedPerson : p))\n        notificatinMessage(`${newName} new number ${newNumber}`)   \n        })\n        .catch(error => {\n          alert(\n            `Information of '${ePerson.name}' has already been removed from server`\n          )\n          setPersons(persons.filter(p => p.id !== ePerson.id))\n        })\n    }\n\n    if (ePerson) {\n      setNewName('')\n      setNewNumber('')\n      return\n    }\n\n    personService\n      .create(personObject)\n      .then(returnedPerson => {   \n        setPersons(persons.concat(returnedPerson))\n        console.log('lisätty: ', newName, newNumber)\n        notificatinMessage(`Added ${newName}`)\n        setNewName('')\n        setNewNumber('')\n      })\n  }\n\n  const removeClick = (event) => {\n    event.preventDefault()\n    const person = persons.find(p => p.id === Number(event.target.value))\n    if (!window.confirm(`Delete ${person.name}`)) { \n      return\n    }\n\n    const personId = person.id\n    personService\n      .remove(personId)\n    setPersons(persons.filter(person => person.id !== personId)) \n    console.log('removed persons: ', person)  \n  }\n\n  const handleToShow = (event) => {\n    console.log('handle to show: ', event.target.value)\n    setChars(event.target.value)\n  }\n   \n  const personsToShow = persons.filter(person => person.name.toLowerCase().includes(chars.toLowerCase()))\n\n  return (\n    <div>\n      <h2>Puhelinluettelo</h2>\n      <Notification message={errorMessage} />\n      <Filter  chars={chars} handleToShow={handleToShow} />\n      <h3>lisää uusi</h3>\n      <PersonForm addPerson={addPerson} newName={newName} handleName={handleName} newNumber={newNumber} handleNumber={handleNumber} />\n      <h3>Numerot</h3>\n      <Person personsToShow={personsToShow} removeClick={removeClick} />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(<App />, \n  document.getElementById('root'));\n\n\n"],"sourceRoot":""}